"use strict";(self.webpackChunkinterview_prep=self.webpackChunkinterview_prep||[]).push([[7713],{3905:function(e,t,o){o.d(t,{Zo:function(){return p},kt:function(){return d}});var n=o(7294);function i(e,t,o){return t in e?Object.defineProperty(e,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[t]=o,e}function a(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,n)}return o}function r(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?a(Object(o),!0).forEach((function(t){i(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):a(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function s(e,t){if(null==e)return{};var o,n,i=function(e,t){if(null==e)return{};var o,n,i={},a=Object.keys(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||(i[o]=e[o]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)o=a[n],t.indexOf(o)>=0||Object.prototype.propertyIsEnumerable.call(e,o)&&(i[o]=e[o])}return i}var l=n.createContext({}),u=function(e){var t=n.useContext(l),o=t;return e&&(o="function"==typeof e?e(t):r(r({},t),e)),o},p=function(e){var t=u(e.components);return n.createElement(l.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},h=n.forwardRef((function(e,t){var o=e.components,i=e.mdxType,a=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),h=u(o),d=i,m=h["".concat(l,".").concat(d)]||h[d]||c[d]||a;return o?n.createElement(m,r(r({ref:t},p),{},{components:o})):n.createElement(m,r({ref:t},p))}));function d(e,t){var o=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var a=o.length,r=new Array(a);r[0]=h;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s.mdxType="string"==typeof e?e:i,r[1]=s;for(var u=2;u<a;u++)r[u]=o[u];return n.createElement.apply(null,r)}return n.createElement.apply(null,o)}h.displayName="MDXCreateElement"},7700:function(e,t,o){o.r(t),o.d(t,{assets:function(){return p},contentTitle:function(){return l},default:function(){return d},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return c}});var n=o(7462),i=o(3366),a=(o(7294),o(3905)),r=["components"],s={title:"Issue troubleshooting",description:"Some tips for troubleshooting issues in your system",last_modified:new Date("2020-10-25T21:56:09.030Z")},l=void 0,u={unversionedId:"processes-techniques/issue-troubleshooting",id:"processes-techniques/issue-troubleshooting",title:"Issue troubleshooting",description:"Some tips for troubleshooting issues in your system",source:"@site/docs/processes-techniques/issue-troubleshooting.md",sourceDirName:"processes-techniques",slug:"/processes-techniques/issue-troubleshooting",permalink:"/interview-prep/about/processes-techniques/issue-troubleshooting",draft:!1,tags:[],version:"current",frontMatter:{title:"Issue troubleshooting",description:"Some tips for troubleshooting issues in your system",last_modified:"2020-10-25T21:56:09.030Z"},sidebar:"docs",previous:{title:"Feature flags",permalink:"/interview-prep/about/processes-techniques/feature-flags"},next:{title:"Managing technical debt",permalink:"/interview-prep/about/processes-techniques/managing-technical-debt"}},p={},c=[{value:"General tips",id:"general-tips",level:2},{value:"Reproducing the issue locally",id:"reproducing-the-issue-locally",level:2},{value:"What if you can&#39;t reproduce locally?",id:"what-if-you-cant-reproduce-locally",level:3},{value:"After fixing the issue",id:"after-fixing-the-issue",level:2},{value:"What if you couldn&#39;t fix the issue?",id:"what-if-you-couldnt-fix-the-issue",level:3},{value:"Resources",id:"resources",level:2}],h={toc:c};function d(e){var t=e.components,o=(0,i.Z)(e,r);return(0,a.kt)("wrapper",(0,n.Z)({},h,o,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Some tips for troubleshooting issues in your system"),(0,a.kt)("h2",{id:"general-tips"},"General tips"),(0,a.kt)("p",null,"Write it down!"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Write down what you know about the problem"),(0,a.kt)("li",{parentName:"ul"},"List your hypotheses and strategies for proving/disproving them",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"You can eliminate potential causes by taking them out of the picture or testing them separately",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"This could be sections of code, components, settings for software you're using, ..."))),(0,a.kt)("li",{parentName:"ul"},"Don't eliminate a hypothesis without testing it"))),(0,a.kt)("li",{parentName:"ul"},"List the assumptions you're making and check if you need to validate them",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Even if you're 99% percent sure that a certain component is not the cause of the issue, it still makes sense to check it once you've gone through other more obvious hypotheses"),(0,a.kt)("li",{parentName:"ul"},"Keep in mind that coincidences can happen! For example, the fact that an issue is first observed right after a release doesn't necessarily mean that it's caused by the changes made during the release."))),(0,a.kt)("li",{parentName:"ul"},"List any interesting observations you make"),(0,a.kt)("li",{parentName:"ul"},"List any patterns you see")),(0,a.kt)("p",null,"Look for the most obvious, dumb things first"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"It's typically just your code, your data or your settings"),(0,a.kt)("li",{parentName:"ul"},"It's very unlikely that the issue is caused by bugs in your compiler, language runtime, browser, database software, libraries (especially if they are mature and battle-tested)")),(0,a.kt)("p",null,"Don't rush and don't skimp on breaks"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Trying to go too fast may make you miss important details or fail to see a general pattern, leading to a lot of time and energy spent going in the wrong direction"),(0,a.kt)("li",{parentName:"ul"},"Breaks are needed to stay sharp, plus taking your focus away from the problem can trigger a light bulb moment as well. See also ",(0,a.kt)("a",{parentName:"li",href:"/mindset/hammock-driven-development"},"Hammock-driven development"))),(0,a.kt)("p",null,"Ask for help if it makes sense!"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"An extra pair of eyes can help to see anything you missed"),(0,a.kt)("li",{parentName:"ul"},"The act of describing the issue to someone might already give you some ideas"),(0,a.kt)("li",{parentName:"ul"},"Even if the other person doesn't know a lot about that part of the system, they might still provide valuable input. See also ",(0,a.kt)("a",{parentName:"li",href:"/mindset/hammock-driven-development#bonus-the-power-of-interactions-and-the-outsider-effect"},"Hammock-driven development - Bonus: the power of interactions and the outsider effect")),(0,a.kt)("li",{parentName:"ul"},"In addition to asking people in your team, it could also make sense to ask people online")),(0,a.kt)("h2",{id:"reproducing-the-issue-locally"},"Reproducing the issue locally"),(0,a.kt)("p",null,"Reproducing the issue locally should typically be your first priority"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"On your local machine, it's a lot easier to properly debug the code step by step, try out possible solutions, mess around in the database, ...",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Just being able to really hook up a debugger to the code could save you hours of running in circles while mentally going through the code"),(0,a.kt)("li",{parentName:"ul"},"It's about shortening the feedback loop! See also ",(0,a.kt)("a",{parentName:"li",href:"/mindset/fail-fast"},"Fail fast")))),(0,a.kt)("li",{parentName:"ul"},"Once you find input, data, settings, ... that allows you to reproduce the issue, store it somewhere for reference",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Playing around with these could suddenly cause the issue to disappear and make you lose your reproduction scenario"))),(0,a.kt)("li",{parentName:"ul"},"Ideally, set up some automated tests that reproduce the issue",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"These can guide you when fixing the issue, plus they act as regression tests to make sure the issue isn't introduced again"),(0,a.kt)("li",{parentName:"ul"},"Setting up the tests at this point allows you to validate that they indeed fail when the issue is present")))),(0,a.kt)("p",null,"How to get there"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Check issue description, potential error traces, logs, ... and keep revisiting them as often as necessary"),(0,a.kt)("li",{parentName:"ul"},"Play around with your local environment based on all of this"),(0,a.kt)("li",{parentName:"ul"},"If this doesn't allow you to reproduce the issue locally, try and see if there's another environment where you can safely try to reproduce it without messing up important data",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"If this is the case, try to replicate the relevant input, data and settings onto your local machine, potentially by restoring a backup from production to your local DB etc."))),(0,a.kt)("li",{parentName:"ul"},"If you suspect a concurrency bug, it could help to simulate high-concurrency situations using unit tests, a performance testing tool, ...")),(0,a.kt)("h3",{id:"what-if-you-cant-reproduce-locally"},"What if you can't reproduce locally?"),(0,a.kt)("p",null,"Note: this is really the worst-case scenario!"),(0,a.kt)("p",null,"If there is another environment where you can safely reproduce the issue and play around with it, you can investigate it there and add some additional logging to help you understand the issue better"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"Watch out that this additional logging isn't an issue in itself! Excessive logging can bring a system to its knees. ",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Could be mitigated by sampling (only log 1 out of every n sessions/requests). Important to sample at the session/request level rather than on the level of individual log statements, because you typically need to see patterns between related logs within the same session/request. Not very useful if the issue occurs infrequently (likely to miss the sessions/requests where the issue occurs)."),(0,a.kt)("li",{parentName:"ul"},"Could be mitigated by keeping some additional logging in memory and discarding it if nothing interesting happens (be careful about the amount of used memory though). You could potentially use a ring buffer (if full, oldest entries are discarded) with a fixed size, where you write the whole ring buffer to disk if something interesting happens. In this case, determining the size of the ring buffer becomes the tricky part."))),(0,a.kt)("li",{parentName:"ul"},"Go for an environment that's as far away from production as possible, while still allowing you to reproduce the bug. Things like restoring a production backup to a staging environment could be useful.",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"If production is really the only option, try to reduce the risk by limiting your scope. For example, you could limit your testing to a single user account that's owned by your team and not a real customer. Or, you could limit the servers you try something on.")))),(0,a.kt)("p",null,"If the error is caused by the system getting into a certain state but you can't figure out how it got into that state, you could write some automated tests that put the system in that state and use those tests to make sure the system handles that state correctly"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"High risk of solving a symptom rather than the actual issue"),(0,a.kt)("li",{parentName:"ul"},"Could be more helpful to instead set up something that allows you to detect when the system gets into that state again")),(0,a.kt)("h2",{id:"after-fixing-the-issue"},"After fixing the issue"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If you haven't been able to reproduce the issue locally before, spend some time making sure that you can now reproduce it locally using your increased knowledge of the issue",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"It might be worth adjusting your setup to make it easier to reproduce these kinds of issues in the future"))),(0,a.kt)("li",{parentName:"ul"},"Make sure you have appropriate automated tests that will detect the issue if it's introduced again",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Ideally, you already wrote some automated tests that failed before fixing the issue and that are now passing due to your fix"))),(0,a.kt)("li",{parentName:"ul"},"Clean up data if necessary"),(0,a.kt)("li",{parentName:"ul"},"Check if there's a need for additional logging that would make it easier to debug these kinds of issues in the future"),(0,a.kt)("li",{parentName:"ul"},"Document your findings and share with the team",(0,a.kt)("ul",{parentName:"li"},(0,a.kt)("li",{parentName:"ul"},"Especially important if the issue taught you new things you will need to pay attention to as a team")))),(0,a.kt)("h3",{id:"what-if-you-couldnt-fix-the-issue"},"What if you couldn't fix the issue?"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},"If the issue is gone for now but you haven't been able to pinpoint what caused it, it could be helpful to set up something that allows you to detect the issue earlier on if it happens again"),(0,a.kt)("li",{parentName:"ul"},"If the issue is still there, it could make sense to build a workaround for it")),(0,a.kt)("h2",{id:"resources"},"Resources"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{href:"https://cloud.google.com/blog/topics/inside-google-cloud/google-cloud-support-engineer-solves-a-tough-dns-case",target:"_blank",rel:"nofollow noopener noreferrer"},"The case of the missing DNS packets: a Google Cloud support story ",(0,a.kt)("svg",{class:"embedded-fa-icon"},(0,a.kt)("use",{href:"#external-link-alt"})))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{href:"https://dev.to/tamasrev/how-to-debug-in-production-4f8",target:"_blank",rel:"nofollow noopener noreferrer"},"How to debug in production ",(0,a.kt)("svg",{class:"embedded-fa-icon"},(0,a.kt)("use",{href:"#external-link-alt"})))),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{href:"https://dev.to/molly_struve/10-tips-for-debugging-in-production-ko1",target:"_blank",rel:"nofollow noopener noreferrer"},"10 Tips For Debugging in Production ",(0,a.kt)("svg",{class:"embedded-fa-icon"},(0,a.kt)("use",{href:"#external-link-alt"}))))))}d.isMDXComponent=!0}}]);