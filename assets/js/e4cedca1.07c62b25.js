"use strict";(self.webpackChunkinterview_prep=self.webpackChunkinterview_prep||[]).push([[9504],{3905:function(e,t,a){a.d(t,{Zo:function(){return p},kt:function(){return m}});var n=a(7294);function r(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){r(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}function l(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},o=Object.keys(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(n=0;n<o.length;n++)a=o[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var s=n.createContext({}),c=function(e){var t=n.useContext(s),a=t;return e&&(a="function"==typeof e?e(t):i(i({},t),e)),a},p=function(e){var t=c(e.components);return n.createElement(s.Provider,{value:t},e.children)},u={inlineCode:"code",wrapper:function(e){var t=e.children;return n.createElement(n.Fragment,{},t)}},d=n.forwardRef((function(e,t){var a=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),d=c(a),m=r,h=d["".concat(s,".").concat(m)]||d[m]||u[m]||o;return a?n.createElement(h,i(i({ref:t},p),{},{components:a})):n.createElement(h,i({ref:t},p))}));function m(e,t){var a=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=a.length,i=new Array(o);i[0]=d;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var c=2;c<o;c++)i[c]=a[c];return n.createElement.apply(null,i)}return n.createElement.apply(null,a)}d.displayName="MDXCreateElement"},9153:function(e,t,a){a.r(t),a.d(t,{assets:function(){return p},contentTitle:function(){return s},default:function(){return m},frontMatter:function(){return l},metadata:function(){return c},toc:function(){return u}});var n=a(7462),r=a(3366),o=(a(7294),a(3905)),i=["components"],l={title:"Cookies and Web Storage",description:"What are Cookies and Web Storage? What do they have in common? What are their differences?",last_modified:new Date("2022-01-31T10:44:35.355Z")},s=void 0,c={unversionedId:"web/cookies-web-storage",id:"web/cookies-web-storage",title:"Cookies and Web Storage",description:"What are Cookies and Web Storage? What do they have in common? What are their differences?",source:"@site/docs/web/cookies-web-storage.md",sourceDirName:"web",slug:"/web/cookies-web-storage",permalink:"/interview-prep/web/cookies-web-storage",draft:!1,tags:[],version:"current",frontMatter:{title:"Cookies and Web Storage",description:"What are Cookies and Web Storage? What do they have in common? What are their differences?",last_modified:"2022-01-31T10:44:35.355Z"},sidebar:"docs",previous:{title:"Expectation management",permalink:"/interview-prep/soft-skills/expectation-management"},next:{title:"Box model",permalink:"/interview-prep/web/css/box-model"}},p={},u=[{value:"What they have in common",id:"what-they-have-in-common",level:2},{value:"Cookies",id:"cookies",level:2},{value:"Web Storage",id:"web-storage",level:2},{value:"Resources",id:"resources",level:2}],d={toc:u};function m(e){var t=e.components,a=(0,r.Z)(e,i);return(0,o.kt)("wrapper",(0,n.Z)({},d,a,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"What are Cookies and Web Storage? What do they have in common? What are their differences?"),(0,o.kt)("h2",{id:"what-they-have-in-common"},"What they have in common"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Solution for storing data client-side"),(0,o.kt)("li",{parentName:"ul"},"Function as a kind of key-value store, allowing to store string values")),(0,o.kt)("h2",{id:"cookies"},"Cookies"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Are typically set from the server (as part of a response to the client) using ",(0,o.kt)("inlineCode",{parentName:"li"},"Set-Cookie")," headers"),(0,o.kt)("li",{parentName:"ul"},"Are sent automatically as ",(0,o.kt)("inlineCode",{parentName:"li"},"Cookie")," headers with each request to a domain and path matching the cookie's specified ",(0,o.kt)("inlineCode",{parentName:"li"},"Domain")," and ",(0,o.kt)("inlineCode",{parentName:"li"},"Path"),(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Good for information that needs to be sent to the server on each call (for example tokens)"),(0,o.kt)("li",{parentName:"ul"},"Can be particularly handy in cases where it's hard to control the actual request made to the server (examples: GET request from and ",(0,o.kt)("inlineCode",{parentName:"li"},"<img>")," tag, server-side rendering where each navigation loads a new page from the server, ...)"),(0,o.kt)("li",{parentName:"ul"},"Not good for storing large amounts of data that don't need to be sent every time"))),(0,o.kt)("li",{parentName:"ul"},"Lifetime:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Session cookies: no specified expiry date or max age. Normally lasts until the browser is shut down, although browsers may use ",(0,o.kt)("em",{parentName:"li"},"session restoring")," which means they survive across browser restarts"),(0,o.kt)("li",{parentName:"ul"},"Permanent cookies: specific expiry date (specified through ",(0,o.kt)("inlineCode",{parentName:"li"},"Expires"),") or max age (specified through ",(0,o.kt)("inlineCode",{parentName:"li"},"Max-Age"),")"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"Secure")," flag, if turned on the cookie can only be sent over HTTPS"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"HttpOnly")," flag, if turned on the cookie cannot be accessed by JavaScript",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Recommended for storing sensitive information like tokens, as this helps prevent tokens from being stolen through XSS (cross-site scripting)"),(0,o.kt)("li",{parentName:"ul"},"Cookies without this flag can be read/written by JavaScript (but only from JavaScript that was loaded by a page in a matching domain)"),(0,o.kt)("li",{parentName:"ul"},"Cookies with the flag turned on can still be viewed and edited by the user, for example through developer tools!"))),(0,o.kt)("li",{parentName:"ul"},"Risk of CSRF (cross-site request forgery attacks), where a completely different site makes a request to your backend, counting on the fact that cookies holding tokens will automatically be sent",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Can be mitigated by also requiring a CSRF token to be sent in a way that requires JavaScript being involved. An example is requiring the client to get the token from a cookie and then put it in a header (remember that cookies for a certain domain can only be accessed by JavaScript loaded by pages in that domain).")))),(0,o.kt)("h2",{id:"web-storage"},"Web Storage"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Can be set and read from JavaScript loaded by a page with matching origin (origin = ",(0,o.kt)("inlineCode",{parentName:"li"},"protocol://host:port"),")",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Values don't get sent to the server unless JavaScript adds it to a request"),(0,o.kt)("li",{parentName:"ul"},"Ideal for storing preferences, scores, ... that don't need to be stored on the server (or should be able to survive page reloads without asking the server for them again)"))),(0,o.kt)("li",{parentName:"ul"},"Can generally store more data than cookies (something along the lines of 5MB in total per domain, versus 4KB per cookie)"),(0,o.kt)("li",{parentName:"ul"},"Lifetime:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"sessionStorage"),": keeps the data as long as the page is open",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},"Survives page reloads and restores"),(0,o.kt)("li",{parentName:"ul"},"Opening the page in a new tab or window gives it its own separate ",(0,o.kt)("inlineCode",{parentName:"li"},"sessionStorage")),(0,o.kt)("li",{parentName:"ul"},"In some browsers, duplicating a tab gives the new tab its own separate ",(0,o.kt)("inlineCode",{parentName:"li"},"sessionStorage"),", but the data from the original tab's ",(0,o.kt)("inlineCode",{parentName:"li"},"sessionStorage")," is initially copied into it"))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"localStorage"),": stays until cleared through JavaScript or the user clearing browser data"))),(0,o.kt)("li",{parentName:"ul"},"Interesting feature: ",(0,o.kt)("inlineCode",{parentName:"li"},"StorageEvent")," fired when storage is changed, could be used within your web application to trigger certain things or even as a mechanism to communicate between different instances of your web application (in different windows or tabs) within the same browser")),(0,o.kt)("h2",{id:"resources"},"Resources"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Cookies",target:"_blank",rel:"nofollow noopener noreferrer"},"HTTP cookies ",(0,o.kt)("svg",{class:"embedded-fa-icon"},(0,o.kt)("use",{href:"#external-link-alt"})))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API",target:"_blank",rel:"nofollow noopener noreferrer"},"Web Storage API ",(0,o.kt)("svg",{class:"embedded-fa-icon"},(0,o.kt)("use",{href:"#external-link-alt"})))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{href:"https://stackoverflow.com/questions/19867599/what-is-the-difference-between-localstorage-sessionstorage-session-and-cookies",target:"_blank",rel:"nofollow noopener noreferrer"},"What is the difference between localStorage, sessionStorage, session and cookies? ",(0,o.kt)("svg",{class:"embedded-fa-icon"},(0,o.kt)("use",{href:"#external-link-alt"})))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{href:"https://stackoverflow.com/questions/8945744/could-someone-explain-the-life-of-a-sessionstorage-object",target:"_blank",rel:"nofollow noopener noreferrer"},"Could someone explain the life of a sessionStorage object? ",(0,o.kt)("svg",{class:"embedded-fa-icon"},(0,o.kt)("use",{href:"#external-link-alt"})))),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{href:"https://stackoverflow.com/questions/4201239/in-html5-is-the-localstorage-object-isolated-per-page-domain",target:"_blank",rel:"nofollow noopener noreferrer"},"In HTML5, is the localStorage object isolated per page/domain? ",(0,o.kt)("svg",{class:"embedded-fa-icon"},(0,o.kt)("use",{href:"#external-link-alt"}))))))}m.isMDXComponent=!0}}]);