<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-data/sql-nosql-newsql">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
<link rel="icon" sizes="32x32" href="/img/favicon-32x32.png">
<link rel="icon" sizes="16x16" href="/img/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileColor" content="#000000">
<meta name="theme-color" content="#ffffff">

<script>const style=document.createElement("style");style.type="text/css",style.textContent=".menu .menu__list .menu__list-item.menu__list-item--collapsed .menu__list{height:0;overflow:hidden}.menu .menu__list .menu__link.menu__link--sublist:after{visibility:visible}.menu .menu__list .menu__list-item.menu__list-item--collapsed .menu__link--sublist:after{visibility:visible}",document.getElementsByTagName("head")[0].appendChild(style)</script><title data-rh="true">SQL, NoSQL, NewSQL | interview-prep</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://shyamzzp.github.io/interview-prep/data/sql-nosql-newsql"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="SQL, NoSQL, NewSQL | interview-prep"><meta data-rh="true" name="description" content="A very high-level overview of the data store landscape, covering relational databases (SQL), NoSQL and NewSQL data stores"><meta data-rh="true" property="og:description" content="A very high-level overview of the data store landscape, covering relational databases (SQL), NoSQL and NewSQL data stores"><link data-rh="true" rel="icon" href="/interview-prep/favicon.ico"><link data-rh="true" rel="canonical" href="https://shyamzzp.github.io/interview-prep/data/sql-nosql-newsql"><link data-rh="true" rel="alternate" href="https://shyamzzp.github.io/interview-prep/data/sql-nosql-newsql" hreflang="en"><link data-rh="true" rel="alternate" href="https://shyamzzp.github.io/interview-prep/data/sql-nosql-newsql" hreflang="x-default"><link rel="stylesheet" href="/interview-prep/assets/css/styles.2935aefe.css">
<link rel="preload" href="/interview-prep/assets/js/runtime~main.e2085f92.js" as="script">
<link rel="preload" href="/interview-prep/assets/js/main.e84410a1.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script>

<svg style="display: none;"><desc>Font Awesome Free 5.13.0 by @fontawesome - https://fontawesome.com
            License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)</desc>
            <symbol id="external-link-alt" viewBox="0 0 512 512">
                <path d="M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"></path>
            </symbol>
            <symbol id="github" viewBox="0 0 496 512">
                <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path>
            </symbol></svg><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/interview-prep/"><b class="navbar__title text--truncate">Interview Preparation Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/shyamzzp/interview-prep" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link navbar__item navbar__link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/about/">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/interview-prep/data/cap-theorem">Data</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/data/cap-theorem">CAP theorem</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/data/data-schema-migration">Data schema migration</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/interview-prep/data/sql-nosql-newsql">SQL, NoSQL, NewSQL</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/interview-prep/data/sql/acid">SQL</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/java/concurrency">Java</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/javascript/event-loop">JavaScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/leetcode-questions/medium">Leetcode Questions (Java)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/mindset/ask-dumb-questions">Mindset</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/preparation/algorithms">Preparation (Java)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/processes-techniques/branch-by-abstraction-application-strangulation">Processes and techniques</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/soft-skills/expectation-management">Soft skills</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/system-design/twitter-system-design">System Design</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/web/cookies-web-storage">Web</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/interview-prep/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Data</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">SQL, NoSQL, NewSQL</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>SQL, NoSQL, NewSQL</h1></header><p>A very high-level overview of the data store landscape, covering relational databases (SQL), NoSQL and NewSQL data stores</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="relational-databases-sql">Relational databases (SQL)<a class="hash-link" href="#relational-databases-sql" title="Direct link to heading">​</a></h2><ul><li>Also called RDBMS (relational database management system)</li><li>Have been around for many decades</li><li>Popular RDBMSes are mature systems and there are lots of developers and database administrators that have several years of experience in dealing with them<ul><li>This means that there is a wealth of knowledge available on best practices, how to tackle certain issues, etc.</li></ul></li><li>SQL standard describing the query language and behavior of relational databases<ul><li>Still, different databases typically provide a different dialect of that query language and they may differ significantly in their behavior in some cases (although possibly all within the bounds of the standard)</li></ul></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="tables-rows-relationships-and-schemas">Tables, rows, relationships and schemas<a class="hash-link" href="#tables-rows-relationships-and-schemas" title="Direct link to heading">​</a></h3><ul><li>Tables (= <em>relations</em>)<ul><li>Each table is a set of columns, each of a certain type, that can hold data for the rows in the table</li><li>Each table has a subset of columns, the table’s <em>primary key (PK)</em>, that uniquely identifies each row in the table</li><li>There may also be other subsets of columns uniquely identifying each row in the table, known as alternate keys (AK).</li></ul></li><li>Relationships<ul><li>Possible to link rows in a table to rows in another table by including the column(s) of that other table’s primary key<ul><li>This is called a <em>foreign key</em></li><li>If defined correctly, database enforces that foreign key links to actual row in the other table</li></ul></li><li>This way, we can define one-to-one relationships and one-to-many relationships</li><li>Also possible to represent many-to-many relationships using an intermediate table to store foreign keys to both tables in the relationship</li></ul></li></ul><p>All of the tables, columns, keys, relationships, etc. are defined in the database schema. The database actively enforces the schema and forbids data that doesn’t match it (incorrect data type for a column, foreign key linking to a row that doesn’t exist, …).</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="sql">SQL<a class="hash-link" href="#sql" title="Direct link to heading">​</a></h3><p>SQL (Structured Query Language):</p><ul><li>Declarative language that allows performing CRUD operations on the data and the database schema </li><li>Declarative = you specify <em>what</em> you want your query to do instead of <em>how</em> to do it. The database system itself figures out a how exactly the query will be performed. This can simplify things, but it can also make it challenging to optimize queries that get executed in a sub-optimal way.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="acid-transactions">ACID transactions<a class="hash-link" href="#acid-transactions" title="Direct link to heading">​</a></h3><p>See <a href="/interview-prep/data/sql/acid">ACID properties</a></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="normalization">Normalization<a class="hash-link" href="#normalization" title="Direct link to heading">​</a></h3><p>See <a href="/interview-prep/data/sql/normalization">Normalization</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="nosql">NoSQL<a class="hash-link" href="#nosql" title="Direct link to heading">​</a></h2><ul><li>Became popular in the early twenty-first century as an alternative to relational databases</li><li>The term NoSQL encompasses lots of different data stores with different concepts, approaches, query languages, etc. that offer a solution to some problem for which relational databases are maybe not an ideal solution<ul><li>In order to achieve this, they generally need to make compromises in terms of features and the guarantees offered by the data store</li><li>Depending on the application, it&#x27;s possible that developers need to foresee some things on the application side that would just be handled by the database if they were using a relational database</li><li>Developers used to working with a non-distributed relational database should be especially careful when working with distributed NoSQL databases as those may introduce the possibility for inconsistencies in areas where the developers take consistency for granted</li></ul></li></ul><p>Typical selling point: specialized solution for particular use cases</p><ul><li>Example: graph databases (see below)</li></ul><p>Typical selling point: horizontal scalability</p><ul><li>Vertical scaling: make your machines more powerful by adding CPU power, memory, faster disks, etc.<ul><li>Becomes expensive or practically impossible once you reach a certain point</li></ul></li><li>Horizontal scaling: add more machines and distribute the load between them<ul><li>Becomes cheaper than vertical scaling one certain scale is reached</li><li>Allows you to keep on scaling up further by adding additional machines</li></ul></li><li>NoSQL databases tend to be built for horizontal scaling, while relational databases are typically not very good at it</li><li>See also <a href="/interview-prep/data/cap-theorem">CAP theorem</a></li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="transactions">Transactions<a class="hash-link" href="#transactions" title="Direct link to heading">​</a></h3><p>NoSQL databases typically don&#x27;t offer transactions with ACID guarantees that relational databases provide</p><ul><li>Some only provide transactional integrity at the level of a single entry (which may still contain structured data or an array of values)</li><li>Some don&#x27;t even provide any form of transactions at all</li></ul><p>Strategies for dealing with lack of transactional support:</p><ul><li>Redesign your data model so you don’t need more transactional support than what the system offers<ul><li>Document databases often provide powerful update functionality for atomically performing a set of changes at the level of a single document (set new value for one property + increment another property + add a new element to an array property + ...)</li><li>The database might provide operations such as &quot;update the first entry matching this filter and return it&quot; that you can use instead of separate retrieve and update operations</li></ul></li><li>Perform the required concurrency control at the level of your application</li><li>Tolerate the possible concurrency issues caused by not having transactions and adjust your application and possibly your users’ expectations to this</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="types-of-nosql-data-stores">Types of NoSQL data stores<a class="hash-link" href="#types-of-nosql-data-stores" title="Direct link to heading">​</a></h3><p>Note: this is not intended to be complete list of all possible types</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="document-store">Document store<a class="hash-link" href="#document-store" title="Direct link to heading">​</a></h4><ul><li>Data is stored as documents containing structured data (think something JSON-like)</li><li>When performing queries, you can typically retrieve or filter on data at any level inside the documents</li><li>Typically the main candidate for storing your application’s domain data if you don’t want to store that data in a relational database</li><li>Example: MongoDB</li></ul><p>Fit:</p><ul><li>Can be a good fit if each piece of data has a hierarchical structure (looks like a tree), as you can just put that entire structure in a document</li><li>Can be a good fit if some of your fields need to hold structured data (nested data structures, arrays, ...)<ul><li>Especially true if you want to query based on that structured data, or make updates inside of it</li></ul></li><li>Works well for one-to-one and one-to-many relationships</li><li>Many-to-one and many-to-many relationships can be hard to model and query<ul><li>Example: you want to store information on actors, movies and which actors played in which movies</li><li>One option: include the data regarding actors inside the documents for the movies or vice versa<ul><li>This is <em>denormalization</em> (see also <a href="/interview-prep/data/sql/normalization">Normalization</a>) and will lead to duplicate data and the possibility for inconsistencies</li></ul></li><li>Other option: have documents for actors, documents for movies, and storing references to movies inside actors<ul><li>Similar to the concept of foreign keys in relational databases</li><li>Problem: document stores often do not offer real foreign key constraints, so there is nothing on the database level preventing you from deleting an actor that a movie still refers to</li><li>Problem: performing queries that combine data from different documents is often not easy or efficient (you might even need to put all of the logic for this in application code, requiring multiple requests to the DB)</li></ul></li></ul></li></ul><p>Schemaless?:</p><ul><li>Often, document stores are <em>schemaless</em></li><li>This means that the database does not enforce a certain structure of the documents you store in it</li><li>Typically, this does not mean that there is no schema for the data, but it means that that schema is either implicitly or explicitly defined by your application rather than at the database level</li><li>Offers more flexibility in the face of changes to the structure of your data<ul><li>Specifically, it allows data with the old structure to sit next to data with the new structure, without forcing you to migrate the old data to the new structure (yet)</li><li>Drawbacks of existence of documents of the same type with different structures:<ul><li>Your application needs to be able to handle the different structures (can lead to loads and loads of if-statements)</li><li>Can make maintenance difficult</li></ul></li><li>Take care to document the changes to the data’s structure and migrate old data when it makes sense</li></ul></li></ul><p>Note: some relational databases actually offer document store capabilities!</p><ul><li>Example: recent versions of PostgreSQL allows storing JSON data and performing queries based on the contents of that JSON data</li><li>This can be a good option if some of your data is hierarchical in nature but you still want ACID capabilities</li><li>If you don’t need to query based on the actual contents of the structured data, you can even just use any relational database and store the data as text in a column</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="key-value-store">Key-value store<a class="hash-link" href="#key-value-store" title="Direct link to heading">​</a></h4><ul><li>Made for storing data as a dictionary (key-value map)<ul><li>All the data is stored in the database as a value with a unique key identifying that value. </li></ul></li><li>Values for different keys can have different data types. Data types offered by a key-value store may include strings, lists of strings, sets of strings and even key-value maps. </li><li>It is typically up to the application to determine what the keys look like. For example, if you want to store data for users, you may use the key <code>user:1</code> for the user with id 1.</li><li>You can typically provide an expiration date or TTL for a key, automatically deleting it at a certain time<ul><li>Can be useful to automatically invalidate tokens stored in the key-value store</li><li>Can help to automatically purge old cached data</li></ul></li><li>Example: Redis</li></ul><p>Fit:</p><ul><li>Useful if your data looks like a key-value map</li><li>Popular use case is using a clusters in-memory key-value stores as a very fast distributed cache for often-retrieved data</li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="graph-database">Graph database<a class="hash-link" href="#graph-database" title="Direct link to heading">​</a></h4><ul><li>Represents data as a graph of nodes and relationships between those nodes</li><li>Typically offer some specialized graph-based algorithms for analyzing the data (shortest path, clustering, ...)</li><li>Example: Neo4j</li></ul><p>Fit:</p><ul><li><p>Good fit when your data can naturally be represented as a network of nodes connected by edges that represent relationships between nodes</p></li><li><p>Example: people on a social network site and their friends. If you model this as each person being a node and each friendship being an edge connecting nodes, storing the data in a graph database helps you recommend friends of friends, identify clusters of people that are all friends of each other, etc.</p><p>Note: there exist extensions to RDBMSes (for example PostgreSQL) that offer graph database capabilities as well</p></li></ul><h4 class="anchor anchorWithStickyNavbar_LWe7" id="time-series-database">Time-series database<a class="hash-link" href="#time-series-database" title="Direct link to heading">​</a></h4><ul><li>Aimed at storing values that change throughout time</li><li>Have storage engines and query languages that are optimized for storing time-series data, making it easy and efficient to perform time-based queries that can aggregate huge amounts of data</li><li>Examples: InfluxDB, SiriDB</li></ul><p>Fit:</p><ul><li>Typical use case: storing data obtained from sensors that are constantly measuring values like temperature, humidity, etc.<ul><li>Time-series database can make it easy to store a year’s worth of temperature measurements (one measurement each minute) and then retrieve the maximum and minimum measured temperature per week</li></ul></li></ul><p>Note that there exist extensions to RDBMSes that offer time-series database capabilities. </p><ul><li>Example: Timescale (builds upon PostgreSQL)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="newsql">NewSQL<a class="hash-link" href="#newsql" title="Direct link to heading">​</a></h2><p>NewSQL systems are a class of relational database management systems that aim at providing the ACID guarantees of relational databases with the horizontal scalability of NoSQL databases. There are several categories of NewSQL databases:</p><ul><li>Completely new systems, often built from scratch with distributed deployment being a major focus. They often use techniques that are similar to the techniques used by NoSQL databases. Examples include Google Spanner and CockroachDB. These systems typically have some limitations with regards to the features they support or the extent to which they provide true ACID guarantees.</li><li>SQL storage engines optimized for horizontal scalability, replacing the default storage engines of relational databases. These storage engines may have some limitations that are not present in the database’s default storage engine.</li><li>Middleware that sits on top of a cluster of relational database instances. An example is Vitess. Note that these systems may not offer ACID guarantees.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="which-one-to-use">Which one to use?<a class="hash-link" href="#which-one-to-use" title="Direct link to heading">​</a></h2><ul><li>Choosing which data store to use is a tradeoff and there is likely no “wrong” or “right” choice. <ul><li>Choice will likely depend on the kind of data you need to store, the kind of queries you will be performing, the scalability you need, the consistency you need, the knowledge of your team, how well the available tooling fits your use case, etc.</li><li>Different options might actually be relatively similar. For example, some relational databases offer support for structured data and some document databases offer support for transactions and schema validation.</li></ul></li><li>There is no rule stating that you should use either SQL, NoSQL or NewSQL. <ul><li>Example: it is very common to use a relational database for your application’s domain data but use a key-value store for caching purposes. </li><li>It could also be a good idea to store parts of your domain data in a relational database and other parts in a document database, depending on which one is a better fit for which part of the data. Of course, this means you have to keep an additional data store up and running and the team has an additional data store to get familiar with.</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="hosted-data-stores">Hosted data stores<a class="hash-link" href="#hosted-data-stores" title="Direct link to heading">​</a></h2><p>When you are evaluating data stores for your project, it is a good idea to also consider the hosted data stores that are offered by cloud providers like AWS or Microsoft Azure. These hosted data stores include SQL, NoSQL and NewSQL data stores and using them could save you the headaches involved in managing your own data store or data store cluster. However, you should be careful regarding the amount of vendor lock-in this generates.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">​</a></h2><ul><li><a href="https://en.wikipedia.org/wiki/Relational_database" target="_blank" rel="nofollow noopener noreferrer">Relational database <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://en.wikipedia.org/wiki/NoSQL" target="_blank" rel="nofollow noopener noreferrer">NoSQL <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://stackoverflow.com/a/39210371" target="_blank" rel="nofollow noopener noreferrer">Living Without Transactions <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://stackoverflow.com/questions/5029580/patterns-for-schema-changes-in-document-databases" target="_blank" rel="nofollow noopener noreferrer">Patterns for Schema Changes in Document Databases <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://en.wikipedia.org/wiki/NewSQL" target="_blank" rel="nofollow noopener noreferrer">NewSQL <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/interview-prep/data/data-schema-migration"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Data schema migration</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/interview-prep/data/sql/acid"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">ACID properties</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#relational-databases-sql" class="table-of-contents__link toc-highlight">Relational databases (SQL)</a><ul><li><a href="#tables-rows-relationships-and-schemas" class="table-of-contents__link toc-highlight">Tables, rows, relationships and schemas</a></li><li><a href="#sql" class="table-of-contents__link toc-highlight">SQL</a></li><li><a href="#acid-transactions" class="table-of-contents__link toc-highlight">ACID transactions</a></li><li><a href="#normalization" class="table-of-contents__link toc-highlight">Normalization</a></li></ul></li><li><a href="#nosql" class="table-of-contents__link toc-highlight">NoSQL</a><ul><li><a href="#transactions" class="table-of-contents__link toc-highlight">Transactions</a></li><li><a href="#types-of-nosql-data-stores" class="table-of-contents__link toc-highlight">Types of NoSQL data stores</a></li></ul></li><li><a href="#newsql" class="table-of-contents__link toc-highlight">NewSQL</a></li><li><a href="#which-one-to-use" class="table-of-contents__link toc-highlight">Which one to use?</a></li><li><a href="#hosted-data-stores" class="table-of-contents__link toc-highlight">Hosted data stores</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">copyright © 2022 shyamzzp.</div></div></div></footer></div>
<script src="/interview-prep/assets/js/runtime~main.e2085f92.js"></script>
<script src="/interview-prep/assets/js/main.e84410a1.js"></script>
<script>window.goatcounter={no_events:!0},window.addEventListener("click",(t=>{if(!window.goatcounter.count)return;if(!t.target)return;const e=t.target.getAttribute("href");!e||e.startsWith("http")||e.startsWith("#")||setTimeout((()=>{window.goatcounter.count()}))}))</script>
<script data-goatcounter="https://interview-prep.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script></body>
</html>