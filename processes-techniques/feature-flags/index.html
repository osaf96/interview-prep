<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper docs-doc-page docs-version-current plugin-docs plugin-id-default docs-doc-id-processes-techniques/feature-flags">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.21">
<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
<link rel="icon" sizes="32x32" href="/img/favicon-32x32.png">
<link rel="icon" sizes="16x16" href="/img/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileColor" content="#000000">
<meta name="theme-color" content="#ffffff">

<script>const style=document.createElement("style");style.type="text/css",style.textContent=".menu .menu__list .menu__list-item.menu__list-item--collapsed .menu__list{height:0;overflow:hidden}.menu .menu__list .menu__link.menu__link--sublist:after{visibility:visible}.menu .menu__list .menu__list-item.menu__list-item--collapsed .menu__link--sublist:after{visibility:visible}",document.getElementsByTagName("head")[0].appendChild(style)</script><title data-rh="true">Feature flags | interview-prep</title><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://shyamzzp.github.io/interview-prep/processes-techniques/feature-flags"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Feature flags | interview-prep"><meta data-rh="true" name="description" content="A way to build flexibility into your codebase, allowing some features or alternate code paths to be toggled on or off at will"><meta data-rh="true" property="og:description" content="A way to build flexibility into your codebase, allowing some features or alternate code paths to be toggled on or off at will"><link data-rh="true" rel="icon" href="/interview-prep/favicon.ico"><link data-rh="true" rel="canonical" href="https://shyamzzp.github.io/interview-prep/processes-techniques/feature-flags"><link data-rh="true" rel="alternate" href="https://shyamzzp.github.io/interview-prep/processes-techniques/feature-flags" hreflang="en"><link data-rh="true" rel="alternate" href="https://shyamzzp.github.io/interview-prep/processes-techniques/feature-flags" hreflang="x-default"><link rel="stylesheet" href="/interview-prep/assets/css/styles.e64330b4.css">
<link rel="preload" href="/interview-prep/assets/js/runtime~main.07729ac9.js" as="script">
<link rel="preload" href="/interview-prep/assets/js/main.f7a123f5.js" as="script">
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"dark")}()</script>

<svg style="display: none;"><desc>Font Awesome Free 5.13.0 by @fontawesome - https://fontawesome.com
            License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)</desc>
            <symbol id="external-link-alt" viewBox="0 0 512 512">
                <path d="M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"></path>
            </symbol>
            <symbol id="github" viewBox="0 0 496 512">
                <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path>
            </symbol></svg><div id="__docusaurus">
<div role="region"><a href="#" class="skipToContent_fXgn">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/interview-prep/"><b class="navbar__title text--truncate">Interview Preparation Notes</b></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/shyamzzp/interview-prep" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link navbar__item navbar__link" aria-label="GitHub repository"></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently dark mode)" aria-label="Switch between dark and light mode (currently dark mode)"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="searchBox_ZlJk"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docsWrapper_BCFX"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docPage__5DB"><aside class="theme-doc-sidebar-container docSidebarContainer_b6E3"><div class="sidebar_njMd"><nav class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/about/">About</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/data/cap-theorem">Data</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/java/concurrency">Java</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/javascript/event-loop">JavaScript</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/leetcode-questions/medium">Leetcode Questions (Java)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/mindset/ask-dumb-questions">Mindset</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/preparation/algorithms">Preparation (Java)</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" aria-expanded="true" href="/interview-prep/processes-techniques/branch-by-abstraction-application-strangulation">Processes and techniques</a></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/branch-by-abstraction-application-strangulation">Branch By Abstraction and application strangulation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/client-first-design">Client-first design</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/code-review-collaboration">Code review and collaboration workflows</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/dealing-with-uncertainty">Dealing with uncertainty</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/interview-prep/processes-techniques/feature-flags">Feature flags</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/issue-troubleshooting">Issue troubleshooting</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/managing-technical-debt">Managing technical debt</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/refactoring">Refactoring</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/small-commits-pull-requests">Small commits and pull requests</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/static-analysis">Static analysis</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/team-decision-making">Team decision-making</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/testing">Testing</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/interview-prep/processes-techniques/trunk-based-development">Trunk Based Development</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" tabindex="0" href="/interview-prep/processes-techniques/testing-details/testing-after-production">Testing details</a></div></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/soft-skills/expectation-management">Soft skills</a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--sublist-caret" aria-expanded="false" href="/interview-prep/web/cookies-web-storage">Web</a></div></li></ul></nav></div></aside><main class="docMainContainer_gTbr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_GujU"><div class="docItemContainer_Adtb"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/interview-prep/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_OVgt"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Processes and techniques</span><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">Feature flags</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_aoJ5"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Feature flags</h1></header><p>A way to build flexibility into your codebase, allowing some features or alternate code paths to be toggled on or off at will</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="basic-idea">Basic idea<a class="hash-link" href="#basic-idea" title="Direct link to heading">​</a></h2><p>Feature flags = a way to build flexibility into your codebase, allowing some features or alternate code paths to be toggled on or off at will</p><p>Simple example:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">calculateTotal</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">newAlgorithmEnabled</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">calculateTotalUsingNewSummationAlgorithm</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"> </span><span class="token keyword control-flow" style="color:#c5a5c5">else</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">calculateTotalUsingOldSummationAlgorithm</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Point where we decide which behavior to invoke based on state of flag = <em>toggle point</em></p><p>Typically, there is a <em>toggle router</em> that determines the state of the flag in a dynamic way. Example:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">calculateTotal</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token function" style="color:#79b6f2">featureIsEnabled</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;use-new-calculation-algorithms&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// ...  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Toggle router gives more flexibility:</p><ul><li>State of the flag could potentially be changed from within the code by making a call to the toggle router<ul><li>Useful for testing</li></ul></li><li>State of the flag could be determined based on config file, DB, or even the current user executing the request</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="feature-flag-use-cases">Feature flag use cases<a class="hash-link" href="#feature-flag-use-cases" title="Direct link to heading">​</a></h2><ul><li><em>Decoupling deployment from release</em>: Feature flags allow a team to deploy a new version of the codebase, containing some code for an unfinished new feature, without that new feature affecting the users yet. This is particularly useful when practicing <a href="https://convincedcoder.com/2019/02/16/Trunk-based-development/" target="_blank" rel="nofollow noopener noreferrer">Trunk Based Development <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a>.</li><li><em>Incremental releasing</em>: <ul><li><em>Canary release</em> or <em>percentage deploy</em>: Use feature flags that are toggled on or off dynamically based on the user to turn a feature on for a small percentage of the users and monitor its effect before rolling out the feature to all users.<ul><li>Is essentially a way to test in production, with real user behavior and real data, while limiting risk</li></ul></li><li><em>Ring deploys</em>: Same mechanism, but the difference is that the users are not selected randomly but are rather chosen based on risk. You could start with internal users, then add a very small <em>canary group</em> of randomly selected real users, then include registered beta testers, etc.</li></ul></li><li><em>A/B testing</em>: When deciding between two approaches (or whether or not to change something or keep it), you can use feature flags to enable approach A for a group of users and approach B for another group of users. Monitoring of the different groups should then help you decide which approach to choose.</li><li><em>Kill switches</em>: Feature flags can be used to temporarily switch off resource-heavy features when the system is under heavy load (think of an e-commerce website on Black Friday).</li><li><em>Plan management</em>: Some services use feature flags to offer a different feature set to different users based on how expensive their subscription is.</li><li><em>Incremental infrastructure migrations</em>: Feature flags can be used to perform infrastructure migrations on production in small steps (each toggled by a flag) that can be rolled back if needed by turning off the flag. After each step, the team can verify that the system still works correctly.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="categorizing-feature-flags">Categorizing feature flags<a class="hash-link" href="#categorizing-feature-flags" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="lifetime">Lifetime<a class="hash-link" href="#lifetime" title="Direct link to heading">​</a></h3><ul><li>Some flags exist for days, weeks, months<ul><li>Example: flags used for A/B testing</li></ul></li><li>Some flags exist for months, years or even entire system lifetime<ul><li>Example: kill switches</li><li>Example: flags for plan management</li></ul></li></ul><p>The longer the lifetime of a flag, the more careful you need to be about choosing the location of its toggle point(s) and ideally making sure there is only a single toggle point that decides what to do based on the flag.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="dynamic-nature">Dynamic nature<a class="hash-link" href="#dynamic-nature" title="Direct link to heading">​</a></h3><ul><li>Static flags: only change through actual code changes or configuration file changes<ul><li>Example: using feature flags to disable unfinished features in released code</li></ul></li><li>More dynamic flags: allow their value to be changed at runtime (for example from some kind of admin UI)<ul><li>Example: kill switches</li></ul></li><li>Most dynamic flags: state depends on the current user<ul><li>Example: flags for A/B testing</li></ul></li></ul><p>The more dynamic a flag is, the more complex the toggle router will need to be.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="flags-changing-throughout-their-lifetime">Flags changing throughout their lifetime<a class="hash-link" href="#flags-changing-throughout-their-lifetime" title="Direct link to heading">​</a></h3><p>During its lifetime, the same flag could fulfill different kinds of use cases and potentially need to be implemented and managed in different ways. </p><p>Example, building a feature that recommends products to customers based on what other similar customers have bought. </p><ul><li>During development: unfinished code for the feature is already deployed but is disabled in production through a static feature flag in a config file</li><li>Once developed, we use A/B testing to test the effect on users. </li><li>If the feature has a positive effect, we decide to enable it for all customers. However, as it is a performance-intensive feature, we could still keep the flag as a kill switch which can be toggled at runtime.</li></ul><p>In the different phases of its lifetime, it could also make sense for the flag to be managed by different teams (development team, sales team, ops team, …).</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="implementation-techniques">Implementation techniques<a class="hash-link" href="#implementation-techniques" title="Direct link to heading">​</a></h2><h3 class="anchor anchorWithStickyNavbar_LWe7" id="basic-flag-check">Basic flag check<a class="hash-link" href="#basic-flag-check" title="Direct link to heading">​</a></h3><p>Basic implementation with toggle router:</p><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">calculateTotal</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token function" style="color:#79b6f2">featureIsEnabled</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;use-new-calculation-algorithms&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// ...  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Limitations:</p><ul><li>Using a magic string seems kind of brittle</li><li>A single flag could toggle multiple algorithms in multiple places. In this case, that knowledge is spread across the actual toggle points</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="additional-layer-of-decision-logic">Additional layer of decision logic<a class="hash-link" href="#additional-layer-of-decision-logic" title="Direct link to heading">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token comment" style="color:#999999">// shared features config</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> features </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token function" style="color:#79b6f2">useNewSummationAlgorithm</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">        </span><span class="token keyword control-flow" style="color:#c5a5c5">return</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">featureIsEnabled</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token string" style="color:#8dc891">&quot;use-new-calculation-algorithms&quot;</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token punctuation" style="color:#8dc891">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token comment" style="color:#999999">// toggle point</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain"></span><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">calculateTotal</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">features</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token method function property-access" style="color:#79b6f2">useNewSummationAlgorithm</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// ...  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Additional layer of decision logic, keeping track of the relationship between flags and specific functionality</p><p>Limitations: </p><ul><li><code>calculateTotal</code>still needs to know about feature toggles, making it hard to test in isolation.</li></ul><h3 class="anchor anchorWithStickyNavbar_LWe7" id="injecting-decisions">Injecting decisions<a class="hash-link" href="#injecting-decisions" title="Direct link to heading">​</a></h3><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">calculateTotal</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">config</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword control-flow" style="color:#c5a5c5">if</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">config</span><span class="token punctuation" style="color:#8dc891">.</span><span class="token property-access">useNewSummationAlgorithm</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// ...  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Now, <code>calculateTotal</code> has no idea that feature toggles exist. The only thing it knows is that its behavior can change, for whatever reason, based on the config object it receives. Here, that config object is passed as an argument, but it could also be passed when constructing the enclosing object.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="injecting-strategies">Injecting strategies<a class="hash-link" href="#injecting-strategies" title="Direct link to heading">​</a></h3><p>Even more flexible and maintainable alternative: use the Strategy pattern.</p><ul><li>Inject the summation algorithm into the method or the enclosing object. </li><li>The method itself doesn’t need to have any idea that its behavior can be changed dynamically. </li></ul><div class="language-javascript codeBlockContainer_Ckt0 theme-code-block" style="--prism-background-color:#282c34;--prism-color:#ffffff"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-javascript codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#ffffff"><span class="token keyword" style="color:#c5a5c5">function</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">calculateTotal</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token parameter">summationAlgorithm</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token plain"> </span><span class="token punctuation" style="color:#8dc891">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token keyword" style="color:#c5a5c5">const</span><span class="token plain"> sumOfItems </span><span class="token operator" style="color:#d7deea">=</span><span class="token plain"> </span><span class="token function" style="color:#79b6f2">summationAlgorithm</span><span class="token punctuation" style="color:#8dc891">(</span><span class="token plain">items</span><span class="token punctuation" style="color:#8dc891">)</span><span class="token punctuation" style="color:#8dc891">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#ffffff"><span class="token plain">    </span><span class="token comment" style="color:#999999">// ...  </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Benefits:</p><ul><li>This is a good way to keep toggling out of generic, reusable code</li><li>If there are multiple places where summation is affected by the feature flag, there can now be a single toggle point (at a higher level) that instantiates the correct summation algorithm to use</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="where-to-put-toggle-points">Where to put toggle points<a class="hash-link" href="#where-to-put-toggle-points" title="Direct link to heading">​</a></h2><p>Option A: at edges of system</p><ul><li>Point where API requests enter the system is typically the point where we have the most knowledge about the actual user making the call, which is vital for dynamic flags</li><li>Keeping toggling logic out of the core can help with maintainability</li><li>Toggle points could be put at the level of the user interface, for example deciding whether or not to show a button triggering certain functionality<ul><li>In this case, an unfinished feature could already be exposed as an API in the back end, but users will never call that API as long as the button for triggering the feature is not shown.</li></ul></li></ul><p>Option B: in the core of the system, close to the functionality they toggle</p><ul><li>Could be the case for technical flags toggling how something is implemented internally</li><li>This means that the core of your system needs to know about the feature flags or at least the fact that different modes of operation are possible<ul><li>Could make maintenance and testing of the core a bit more challenging</li></ul></li><li>The core doesn’t always have the necessary context (for example, full info about the current user) to make the decision<ul><li>Possible to make the actual on/off decision at the edge of the system and then pass it down to the core</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="feature-flag-configuration">Feature flag configuration<a class="hash-link" href="#feature-flag-configuration" title="Direct link to heading">​</a></h2><p>Note: dynamic flag does not necessarily mean dynamic configuration! For example, flags for plan management change value depending on user (very dynamic), but their configuration could even be hardcoded.</p><p>Approaches for managing feature flag configuration:</p><ul><li><em>Hard-coded or baked in</em><ul><li>Feature flag configuration is stored in the actual code or set as part of the build process.</li><li>Can work for flags guarding unfinished features, where we never want those features to be enabled in production</li></ul></li><li><em>Command line variables, environment variables or config files</em>: <ul><li>Could be useful the value of a flag should be able to change without having to rebuild the application</li><li>Restart is often needed in order to use the new configuration</li><li>May be challenging to keep flag configuration consistent across multiple servers or processes</li></ul></li><li><em>App database</em>: <ul><li>Single source of truth that is potentially shared across multiple servers. </li><li>Allows the configuration to be changed at runtime, often through some kind of admin UI. <ul><li>There may be some limitations imposed on which users can change the configuration for certain flags.</li></ul></li></ul></li><li><em>Feature management system</em>: <ul><li>Dedicated system specifically aimed at managing feature flag configuration. </li><li>Provide a UI for managing the configuration, including limitations on who can change what. There may even be an audit log tracking when changes were made and by who. </li><li>Often provide mechanisms to ensure that any changes made to the configuration are propagated quickly to all systems that need to know about them. </li><li>May provide tools that help with integrating knowledge about flag configuration and certain application metrics, helping to analyze the effect of turning a certain flag on or off.</li></ul></li><li><em>Configuration overrides</em>: <ul><li>In some cases, it makes sense to allow feature flag configuration to be overridden, for example by passing a special cookie, query parameter or HTTP header.</li></ul></li></ul><p>General tips, regardless of the chosen approach:</p><ul><li>Try to keep a clear separation between feature flag configuration and other kinds of configuration</li><li>Try to include some documentation or metadata (owner, purpose, …) with the feature flag configuration if your approach allows it</li><li>Try to foresee a very straightforward way for checking the current flag configuration for a running system. Some of the above approaches already provide this through a UI. It can also help to just foresee a simple API that returns the current configuration</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="feature-flags-and-testing">Feature flags and testing<a class="hash-link" href="#feature-flags-and-testing" title="Direct link to heading">​</a></h2><p>Feature flags determine the behavior of your application. This means that they make it a bit more challenging to properly test the application.</p><p>It can help to keep toggle points outside the core of your system where possible. In that case, you can already test the core without having to worry about feature flags.</p><p>At some point, you will have to test the system at a level where it is affected by feature flags. In theory, each feature flag means an exponential increase in possible configurations to test. However, in practice, a lot of feature flags will not interfere with each other because they toggle completely unrelated functionality.</p><p>A pragmatic approach to testing could be the following:</p><ul><li>Follow the best-practice convention that a toggle in “on” position means “new behavior” and a toggle in “off” position means “old behavior”</li><li>Test with current prod config + the flags you intend to turn on</li><li>Test the fallback configuration (just current prod config, without the flags you intend to turn on)</li><li>Potentially also test with all flags in “on” position. This can help prevent surprises in the future by detecting regressions in some features that we don’t intend to turn on yet.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="feature-flags-and-database-changes">Feature flags and database changes<a class="hash-link" href="#feature-flags-and-database-changes" title="Direct link to heading">​</a></h2><p>See <a href="/interview-prep/data/data-schema-migration">Data schema migration</a></p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="managing-the-number-of-flags">Managing the number of flags<a class="hash-link" href="#managing-the-number-of-flags" title="Direct link to heading">​</a></h2><p>Feature flags mean additional complexity, testing effort, etc. -&gt; try to limit the number of feature flags in your system. </p><p>Potential new flags: consider other possibilities</p><ul><li>Ideally, you could design the feature in such a way that even its first version already has some value or at least has no negative impact on customer experience (so no need for a feature flag)</li></ul><p>Existing flags:</p><ul><li>Make sure each flag has an owner who is responsible for making sure the flag is removed at an appropriate time</li><li>Determine expiry date for the flag<ul><li>Can even be enforced through tests that fail if flag exceeds expiry date (<em>time bombs</em>)</li></ul></li><li>Upper limit on # flags. If upper limit reached, remove an old flag first before adding new one</li><li>Some feature management systems can help with the detection of obsolete flags by looking for flags that have been either 100% on or 100% off for a long amount of time.</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="general-best-practices">General best practices<a class="hash-link" href="#general-best-practices" title="Direct link to heading">​</a></h2><ul><li><em>Clear scope</em>:<ul><li>The name of a flag should indicate what part of the system it affects, what the purpose of the feature it and ideally also at which layer the feature sits. An example naming convention is <code>section-purpose-layer</code>.</li></ul></li><li><em>Maintain consistency</em>:<ul><li>Consistency = being consistent in which flags are turned on for the user</li><li>When doing percentage deploys and increasing the percentage, make sure that users for which the feature flag was previously in the “on” state still have the flag turned on</li><li>What if users start using the application before logging in (e.g., e-commerce)?<ul><li>Cookie with a visitor ID, use the visitor ID to determine which features are turned on for the user, and keep using that same visitor ID after the user has logged in</li></ul></li></ul></li><li><em>Server-side decisions</em>:<ul><li>Try to keep decisions regarding whether or not a feature is enabled on the server side</li><li>Makes it a lot easier to manage feature flag states and keep them up to date</li><li>Prevents tech-savvy users from playing with flag state themselves</li></ul></li><li><em>Integrate monitoring with feature flagging</em>:<ul><li>Feature flags can have an effect on business metrics like conversion rates, but also on technical metrics like CPU use. Take care to make sure that you can link changes in these metrics to changes in feature flags so you can properly analyze the effect of a flag. </li><li>It may make sense to store some feature flag information with analytics events</li></ul></li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="resources">Resources<a class="hash-link" href="#resources" title="Direct link to heading">​</a></h2><ul><li><a href="https://martinfowler.com/articles/feature-toggles.html" target="_blank" rel="nofollow noopener noreferrer">Feature Toggles (aka Feature Flags) <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://launchdarkly.com/effective-feature-management-ebook/" target="_blank" rel="nofollow noopener noreferrer">Effective Feature Management ebook <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://try.split.io/oreilly-feature-flag-best-practices" target="_blank" rel="nofollow noopener noreferrer">Feature Flag Best Practices ebook <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li></ul></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><a class="pagination-nav__link pagination-nav__link--prev" href="/interview-prep/processes-techniques/dealing-with-uncertainty"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Dealing with uncertainty</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/interview-prep/processes-techniques/issue-troubleshooting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Issue troubleshooting</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#basic-idea" class="table-of-contents__link toc-highlight">Basic idea</a></li><li><a href="#feature-flag-use-cases" class="table-of-contents__link toc-highlight">Feature flag use cases</a></li><li><a href="#categorizing-feature-flags" class="table-of-contents__link toc-highlight">Categorizing feature flags</a><ul><li><a href="#lifetime" class="table-of-contents__link toc-highlight">Lifetime</a></li><li><a href="#dynamic-nature" class="table-of-contents__link toc-highlight">Dynamic nature</a></li><li><a href="#flags-changing-throughout-their-lifetime" class="table-of-contents__link toc-highlight">Flags changing throughout their lifetime</a></li></ul></li><li><a href="#implementation-techniques" class="table-of-contents__link toc-highlight">Implementation techniques</a><ul><li><a href="#basic-flag-check" class="table-of-contents__link toc-highlight">Basic flag check</a></li><li><a href="#additional-layer-of-decision-logic" class="table-of-contents__link toc-highlight">Additional layer of decision logic</a></li><li><a href="#injecting-decisions" class="table-of-contents__link toc-highlight">Injecting decisions</a></li><li><a href="#injecting-strategies" class="table-of-contents__link toc-highlight">Injecting strategies</a></li></ul></li><li><a href="#where-to-put-toggle-points" class="table-of-contents__link toc-highlight">Where to put toggle points</a></li><li><a href="#feature-flag-configuration" class="table-of-contents__link toc-highlight">Feature flag configuration</a></li><li><a href="#feature-flags-and-testing" class="table-of-contents__link toc-highlight">Feature flags and testing</a></li><li><a href="#feature-flags-and-database-changes" class="table-of-contents__link toc-highlight">Feature flags and database changes</a></li><li><a href="#managing-the-number-of-flags" class="table-of-contents__link toc-highlight">Managing the number of flags</a></li><li><a href="#general-best-practices" class="table-of-contents__link toc-highlight">General best practices</a></li><li><a href="#resources" class="table-of-contents__link toc-highlight">Resources</a></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">copyright © 2022 shyamzzp.</div></div></div></footer></div>
<script src="/interview-prep/assets/js/runtime~main.07729ac9.js"></script>
<script src="/interview-prep/assets/js/main.f7a123f5.js"></script>
<script>window.goatcounter={no_events:!0},window.addEventListener("click",(t=>{if(!window.goatcounter.count)return;if(!t.target)return;const e=t.target.getAttribute("href");!e||e.startsWith("http")||e.startsWith("#")||setTimeout((()=>{window.goatcounter.count()}))}))</script>
<script data-goatcounter="https://interview-prep.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script></body>
</html>