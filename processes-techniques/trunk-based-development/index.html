<!doctype html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="generator" content="Docusaurus v2.0.0-alpha.50">
<link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">
<link rel="icon" sizes="32x32" href="/img/favicon-32x32.png">
<link rel="icon" sizes="16x16" href="/img/favicon-16x16.png">
<link rel="manifest" href="/site.webmanifest">
<meta name="msapplication-TileColor" content="#000000">
<meta name="theme-color" content="#ffffff">
<script>const style=document.createElement("style");style.type="text/css",style.textContent=".menu .menu__list .menu__list-item.menu__list-item--collapsed .menu__list{height:0;overflow:hidden}.menu .menu__list .menu__link.menu__link--sublist:after{visibility:visible}.menu .menu__list .menu__list-item.menu__list-item--collapsed .menu__link--sublist:after{visibility:visible}",document.getElementsByTagName("head")[0].appendChild(style)</script>

<title data-react-helmet="true">Trunk Based Development | interview-prep</title>

<meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:title" content="Trunk Based Development | interview-prep"><meta data-react-helmet="true" name="description" content="A source-control branching model that focuses on collaborating through a single branch, the &#x27;trunk&#x27;"><meta data-react-helmet="true" property="og:description" content="A source-control branching model that focuses on collaborating through a single branch, the &#x27;trunk&#x27;"><meta data-react-helmet="true" property="og:url" content="https://shyamzzp.github.io/interview-prep/processes-techniques/trunk-based-development">

<link data-react-helmet="true" rel="shortcut icon" href="/interview-prep/favicon.ico">


<link rel="stylesheet" href="/interview-prep/styles.13a95899.css">


<link rel="preload" href="/interview-prep/styles.528f11ec.js" as="script">

<link rel="preload" href="/interview-prep/runtime~main.881a3705.js" as="script">

<link rel="preload" href="/interview-prep/main.a2ac2088.js" as="script">

<link rel="preload" href="/interview-prep/1.a97003e5.js" as="script">

<link rel="preload" href="/interview-prep/2.2e8d12a1.js" as="script">

<link rel="preload" href="/interview-prep/92.c467e56e.js" as="script">

<link rel="preload" href="/interview-prep/7ade5073.5f862e9b.js" as="script">

<link rel="preload" href="/interview-prep/17896441.d7ae5b38.js" as="script">

<link rel="preload" href="/interview-prep/0c35d482.da71e0be.js" as="script">

</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=window.matchMedia("(prefers-color-scheme: dark)"),n=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();null!==n?t(n):e.matches&&t("dark")}()</script>
<svg style="display: none;"><desc>Font Awesome Free 5.13.0 by @fontawesome - https://fontawesome.com
            License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)</desc>
            <symbol id="external-link-alt" viewBox="0 0 512 512">
                <path d="M432,320H400a16,16,0,0,0-16,16V448H64V128H208a16,16,0,0,0,16-16V80a16,16,0,0,0-16-16H48A48,48,0,0,0,0,112V464a48,48,0,0,0,48,48H400a48,48,0,0,0,48-48V336A16,16,0,0,0,432,320ZM488,0h-128c-21.37,0-32.05,25.91-17,41l35.73,35.73L135,320.37a24,24,0,0,0,0,34L157.67,377a24,24,0,0,0,34,0L435.28,133.32,471,169c15,15,41,4.5,41-17V24A24,24,0,0,0,488,0Z"></path>
            </symbol>
            <symbol id="github" viewBox="0 0 496 512">
                <path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path>
            </symbol></svg>
<div id="__docusaurus">
<nav class="navbar navbar--light navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><div aria-label="Navigation bar toggle" class="navbar__toggle" role="button" tabindex="0"><svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" viewBox="0 0 30 30" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></div><a aria-current="page" class="navbar__brand active" href="/interview-prep/"><strong class="navbar__title">Interview Preparation Notes</strong></a></div><div class="navbar__items navbar__items--right"><a target="_blank" rel="noopener noreferrer" href="https://github.com/shyamzzp/interview-prep" class="header-github-link navbar__item navbar__link" aria-label="GitHub repository"></a><div class="react-toggle react-toggle--disabled displayOnlyInLargeViewport_1gtM"><div class="react-toggle-track"><div class="react-toggle-track-check"><span class="toggle_keGJ moon_1gwN"></span></div><div class="react-toggle-track-x"><span class="toggle_keGJ sun_3CPA"></span></div></div><div class="react-toggle-thumb"></div><input type="checkbox" disabled="" aria-label="Dark mode toggle" class="react-toggle-screenreader-only"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a aria-current="page" class="navbar__brand active" href="/interview-prep/"><strong class="navbar__title">Interview Preparation Notes</strong></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a target="_blank" rel="noopener noreferrer" href="https://github.com/shyamzzp/interview-prep" class="header-github-link navbar__item navbar__link" aria-label="GitHub repository"></a></li></ul></div></div></div></nav><div class="main-wrapper"><div class="docPage_1kjD"><div class="docSidebarContainer_1cYp"><div class="sidebar_1kLs"><div class="menu menu--responsive menu_w2sC"><button aria-label="Open Menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg aria-label="Menu" class="sidebarMenuIcon_2vk4" xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 32 32" role="img" focusable="false"><title>Menu</title><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">About</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/about/about">About these notes</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/about/solving-leetcode-problems">Solving Leetcode Questions</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Data</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/data/cap-theorem">CAP theorem</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/data/data-schema-migration">Data schema migration</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/data/sql-nosql-newsql">SQL, NoSQL, NewSQL</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">SQL</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/data/sql/acid">ACID properties</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/data/sql/normalization">Database normalization</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/data/sql/optimistic-pessimistic-locking-sql">Optimistic and pessimistic locking in SQL</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/data/sql/transaction-isolation-levels">Transaction isolation levels</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Java</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/concurrency">Concurrency</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/date-time-api">Date and Time API</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/equals">Equals</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/exceptions">Exceptions</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/generics">Generics</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/interfaces">Interfaces</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/java-platform-module-system">Java Platform Module System</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/lambda-expressions">Lambda expressions</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/optional">Optional type</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/overloading-overriding-method-hiding">Overloading, overriding and method hiding</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/streams">Streams</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Concurrency details</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/concurrency-details/locking">Locking</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/concurrency-details/thread-safety">Thread safety</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/java/concurrency-details/threads">Threads</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">JavaScript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/event-loop">Event loop</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/object-prototypes-classes">Object prototypes and classes</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/scope-closures">Scope and closures</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/spread-syntax-rest-parameters-destructuring">Spread syntax, rest parameters and destructuring</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/this-keyword">The this keyword</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">TypeScript</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/typescript/compiler-api">Compiler API</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/typescript/conditional-types">Conditional types</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/typescript/index-types">Index types</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/typescript/nullable-types-optional-parameters-properties">Nullable types and optional parameters/properties</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/typescript/runtime-type-checking">Runtime type checking in TypeScript</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/javascript/typescript/type-guards">Type guards</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Mindset</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/mindset/ask-dumb-questions">Ask the dumb questions</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/mindset/concepts-not-code">Concepts, not code</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/mindset/fail-fast">Fail fast</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/mindset/hammock-driven-development">Hammock-driven development</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/mindset/it-depends">It depends</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/mindset/its-about-people">It&#x27;s about people</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/mindset/keep-it-simple">Keep it simple</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/mindset/pragmatism-imperfectionism">Pragmatism and imperfectionism</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/mindset/work-life-balance">Work-life balance</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Preparation (Java)</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/algorithms">Algorithms</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/bit-manipulation">Bit Manipulation</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/common-problems">Common Problems</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/comparators">Comparators</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/graph">Graph</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/linked-list">Linked List</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/map">Map</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/math">Math</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/priority-queue">Priority Queue</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/search-algorithms">Search Algorithms</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/snippets">Snippets</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/sorting-algorithms">Sorting Algorithms</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/preparation/tree">Tree</a></li></ul></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#!">Processes and techniques</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/branch-by-abstraction-application-strangulation">Branch By Abstraction and application strangulation</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/client-first-design">Client-first design</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/code-review-collaboration">Code review and collaboration workflows</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/dealing-with-uncertainty">Dealing with uncertainty</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/feature-flags">Feature flags</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/issue-troubleshooting">Issue troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/managing-technical-debt">Managing technical debt</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/refactoring">Refactoring</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/small-commits-pull-requests">Small commits and pull requests</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/static-analysis">Static analysis</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/team-decision-making">Team decision-making</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/testing">Testing</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active" href="/interview-prep/processes-techniques/trunk-based-development">Trunk Based Development</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Testing details</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/testing-details/testing-after-production">Testing after production</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/processes-techniques/testing-details/testing-patterns">Testing patterns</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Soft skills</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/soft-skills/expectation-management">Expectation management</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">Web</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/cookies-web-storage">Cookies and Web Storage</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#!">CSS</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/box-model">Box model</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/browser-compatibility">Browser compatibility</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/flexbox">Flexbox</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/grids">Grids</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/inheritance-cascade-specificity">Inheritance, the cascade and specificity</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/naming-classes">Naming classes</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/positioning">Positioning</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/responsive-design">Responsive design</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/sass-scss">Sass/SCSS</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/selectors">Selectors</a></li><li class="menu__list-item"><a class="menu__link" href="/interview-prep/web/css/units">Units</a></li></ul></li></ul></li></ul></div></div></div><main class="docMainContainer_FFX1"><div class="padding-vert--lg"><div class="container"><div class="row"><div class="col docItemCol_2GOA"><div class="docItemContainer_2cwg"><article><header><h1 class="docTitle_1vWb">Trunk Based Development</h1></header><div class="markdown"><p>A source-control branching model that focuses on collaborating through a single branch, the &#x27;trunk&#x27;</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="what-is-trunk-based-development"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#what-is-trunk-based-development" title="Direct link to heading">#</a>What is Trunk Based Development?</h2><ul><li>Collaboration between developers happens through regular commits to a single branch, the “trunk” (ideally, several commits per developer per day)</li><li>Developers strive to keep the code in the trunk working at all times (builds, passes tests, etc.). Every commit on the trunk should be releasable without much additional effort.</li><li>Developers either commit directly to the trunk or commit to short-lived feature branches that are merged into the trunk after successful review</li><li>If used, feature branches don’t last more than a few days max and only a single developer (or pair of developers) commits to a single feature branch</li><li>Releasing happens either directly from the trunk (tagging a commit) or from release branches branched off of the trunk</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="trunk-based-development-advantages"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#trunk-based-development-advantages" title="Direct link to heading">#</a>Trunk Based Development advantages</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="reducing-distance-between-developers"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#reducing-distance-between-developers" title="Direct link to heading">#</a>Reducing distance between developers</h3><p>Problem with long-lived feature branches: distance between developers!</p><ul><li>One or more developers can work in separation from the rest of the team for days, weeks, or even months</li><li>Being able to work in isolation from the rest of the team can seem like a blessing. However, someday, your code will have to be integrated with the rest of the codebase.</li><li>The more pain you avoided (or should I say postponed) by choosing not to adjust to changes others were making, the more pain you are saving up until the time has come to merge your feature branch.</li></ul><p>Why we should still be afraid of big merges, regardless of how good source control systems get at merging:</p><ul><li>There will alway be cases where source control systems cannot perform the merge automatically. These merge conflicts need to resolve manually, and this becomes more and more difficult as the scope of the merge increases.</li><li>Even worse than this are the conflicts that your source control system does <em>not</em> pick up on. These conflicts are called <a href="https://martinfowler.com/bliki/SemanticConflict.html" target="_blank" rel="nofollow noopener noreferrer">semantic conflicts <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a>. The merge seems successful, but the code will either fail to compile, fail to run or (most dangerous case) succeed to run but produce incorrect results.</li></ul><p>Some examples of semantic conflicts:</p><ul><li>I rename a method, letting my IDE help me to change its name everywhere it is used. Meanwhile, you create some new code that calls the method (by its old name). Note that this will trigger compiler errors once we merge our code (if using a statically typed language), unless there is now another method with the old name and same signature that does something else than the renamed method (more dangerous).</li><li>There is a method that has a certain side effect. I decide to split out the side effect into a separate method, potentially because I have a new case where it is not needed. Then, I make sure to update all existing calls to the method to call the method for the side effect separately. Meanwhile, you write some new code calling the original method and expecting the side effect. The compiler doesn’t detect anything once we merge our code, we can only hope our tests will.</li><li>I change an abstraction while you build some code on top of the original abstraction. This one will probably trigger some compiler errors once we merge (if our language is statically typed), but could require you to completely change your approach.</li></ul><p>Even if you frequently rebase your feature branch from the main development branch, other people won&#x27;t see your changes until you merge your feature branch (and you&#x27;re also not seeing other people&#x27;s work that they haven&#x27;t merged yet). </p><p>If developers collaborate on a single branch, these types of issues are less likely to occur because developers try to stay up to date with the trunk and analyze if any changes made by other developers affect them. Additionally, developers can see if any changes they are making conflict with the path that others are taking (instead of turning their life into merge hell without realizing it). And, if semantic conflicts do occur, Trunk Based Development will make sure they are detected sooner rather than later, making them much easier to solve.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="commitment-to-quality-of-code-and-build-process"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#commitment-to-quality-of-code-and-build-process" title="Direct link to heading">#</a>Commitment to quality of code and build process</h3><p>The fact that the team strives to keep the code in the trunk working at all times automatically means a dedication to the quality of code and the build process.</p><ul><li>More communication regarding changes, especially if they are likely to affect other developers. </li><li>Dedication to working code in the trunk means that there is a high bar for code changes and typically also some kind of reviewing process. Developers are typically also more careful with their changes if they know they immediately affect the entire team.</li><li>Keeping the code in the trunk working also means there is a strong incentive to set up a good build process that performs as many automated checks as possible to make sure the code actually does work. Developers should also run this build process locally in order to make sure their changes work <em>before</em> actually pushing their code.</li></ul><p>This part also highlights a possible challenge: Trunk Based Development does require a certain level of dedication to quality from everyone in the team and the team needs to be able to self-police if necessary.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="flexibility-to-refactor-where-needed"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#flexibility-to-refactor-where-needed" title="Direct link to heading">#</a>Flexibility to refactor where needed</h3><p>In teams where work happens on long-lived feature branches, refactoring could turn an already challenging merge into a complete disaster. The thought of a painful merge can actually keep the team from applying the refactoring that the codebase needs. When practicing Trunk Based Development, the reduced distance between developers makes refactoring a lot easier, meaning that developers are more likely to do it when it makes sense.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="encouraging-incremental-development"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#encouraging-incremental-development" title="Direct link to heading">#</a>Encouraging incremental development</h3><p>Trunk-Based Development forces you to divide your work into small pieces that don&#x27;t break the rest of the codebase. Each of those steps is less risky than taking a giant step at once, plus you will get faster feedback if something went wrong.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="flexibility-regarding-releases"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#flexibility-regarding-releases" title="Direct link to heading">#</a>Flexibility regarding releases</h3><p>In principle, every commit on the trunk should be a working version of the software, very close to being releasable. This means that Trunk Based Development provides a lot of flexibility regarding when and what to release.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="commits-and-reviewing"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#commits-and-reviewing" title="Direct link to heading">#</a>Commits and reviewing</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="committing-straight-to-the-trunk"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#committing-straight-to-the-trunk" title="Direct link to heading">#</a>Committing straight to the trunk</h3><ul><li>Especially useful for smaller teams</li><li>Typically some kind of review (on top of the automated build process that developers can run on their machines as well)<ul><li>If the team uses pair programming, a pair is often allowed to commit directly to the trunk</li><li>Synchronous review also possible</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="short-lived-feature-branches-for-review"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#short-lived-feature-branches-for-review" title="Direct link to heading">#</a>Short-lived feature branches for review</h3><p>Trunk Based Development allow feature branches as a tool for code review, with some restrictions:</p><ul><li>Feature branches are short-lived (shorter is better, definitely not more than a few days)</li><li>Only one developer commits to a given feature branch.</li><li>Feature branches branch from the trunk and can only be merged to the trunk.</li><li>Merging from the feature branch to trunk is allowed only once and also means the end of the feature branch</li><li>Merging from trunk to bring the feature branch up to date with new changes is allowed anytime. It is especially recommended to bring your feature branch fully up to date with the trunk (and check that it builds) before actually merging into trunk</li></ul><p><img src="/img/from-notes/processes-techniques/trunk-based-development/feature-branch.png" alt="Feature branch"></p><p>Pull requests (as offered by GitHub and Bitbucket) are a good way to handle this, and they make it easy to delete the branch when you merge it.</p><p>As feature branches are an alternative to committing directly to the trunk, the scope of a feature branch should be small enough to have been the scope for a single commit to trunk. However, it sometimes makes sense to split the work into separate commits to make the reviewing process easier. An example is having a separate commit with some refactoring and then another commit with the implementation of new functionality.</p><p>When merging a feature branch back to the trunk, it could make sense to perform a squash merge that makes the changes appear as a single commit on the trunk. Note, however, that this means losing information regarding the individual commits in the feature branch. Sometimes, it&#x27;s better to keep the individual commits in a pull request for future reference.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="review-after-the-fact"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#review-after-the-fact" title="Direct link to heading">#</a>Review after the fact</h3><p>As it is the team’s responsibility to keep the code in the trunk working, team members may choose to review commits that were pushed to the trunk. In case of any issues, the team can quickly coordinate on how to fix them.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="trunk-based-development-and-continuous-integration"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#trunk-based-development-and-continuous-integration" title="Direct link to heading">#</a>Trunk Based Development and Continuous Integration</h2><p>Depending on who you ask, Continuous Integration can mean two things:</p><ul><li>Developers very regularly integrate their changes into a single place where changes from all developers come together, making sure that they are of sufficient quality before doing so. <ul><li>You could argue this was the initially intended meaning of Continuous Integration, and it is more or less the same as the main premise of Trunk Based Development.</li></ul></li><li>There is some kind of process that watches the source control repository for changes and runs new commits through the build process (including tests etc.), alerting the team if the build does not pass.<ul><li>Very useful to have when practicing Trunk Based Development</li><li>If it somehow occurs that the code in the trunk does not build, the team can take action immediately<ul><li>Note that this should in principle never happen, as developers should run the same build process locally before pushing their code</li></ul></li><li>This kind of automated build is also useful to have on feature branches and can be one of the deciding factors in the decision to merge. <ul><li>For checking commits on feature branches, it is important that the branches are sufficiently up to date with the trunk. This is especially the case right before merging</li></ul></li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="trunk-based-development-and-continuous-deliverydeployment"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#trunk-based-development-and-continuous-deliverydeployment" title="Direct link to heading">#</a>Trunk Based Development and Continuous Delivery/Deployment</h2><ul><li><em>Continuous Delivery</em>: Commits that build successfully are automatically deployed to a quality assurance or acceptance testing environment.<ul><li>You will likely need several QA/UAT environments, each with different rules regarding frequency of deployment. Some of them might even temporarily be &quot;reserved&quot; for various reasons.</li></ul></li><li><em>Continuous Deployment</em>: Commits that build successfully are actually pushed all the way to production.<ul><li>Some large tech companies are doing this</li><li>Note that this requires very extensive checking as part of the build process, as well as the use of techniques like <a href="/processes-techniques/feature-flags">Feature flags</a> to gain control over the extent to which new features are turned on in production</li></ul></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="releases"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#releases" title="Direct link to heading">#</a>Releases</h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="branching-for-release"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#branching-for-release" title="Direct link to heading">#</a>Branching for release</h3><ul><li>The decision is made to release a state of the trunk</li><li>A release branch is created, starting from the commit representing that state of the trunk</li><li>Potentially, some very limited work happens in the release branch in order to fully make it release-ready</li><li>The code is released and the released commit is tagged</li></ul><p>Bugfixes on a release:</p><ul><li>Fix the bugs on the trunk and cherry-pick them into the release branch, and not the other way around!<ul><li>This helps prevent regression bugs caused by applying a fix in a release branch but forgetting to apply the fix on the trunk as well. </li><li>Exceptions are only allowed if it is really not possible to reproduce the bug on the trunk.</li></ul></li><li>The code is released and the released commit is tagged</li></ul><p><img src="/img/from-notes/processes-techniques/trunk-based-development/branch-for-release.png" alt="Branch for release"></p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="releasing-straight-from-trunk"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#releasing-straight-from-trunk" title="Direct link to heading">#</a>Releasing straight from trunk</h3><ul><li>Release straight from the trunk, without creating a new release branch. </li><li>Doable if commits on the trunk are really release-ready</li><li>Often even no real version numbers. Instead, commit identifiers can be used.</li><li>Seen in teams that release very often</li><li>What if release contains bugs?<ul><li>Typically a fix-forward strategy where team fixes the bug on trunk as soon as possible and then push a new release including the fix</li></ul></li></ul><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="creating-a-release-branch-only-when-needed"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#creating-a-release-branch-only-when-needed" title="Direct link to heading">#</a>Creating a release branch only when needed</h3><ul><li>Start by releasing directly from trunk, tagging the commit with a release number</li><li>If a bug exists in the release, a release branch is retroactively created from that commit (modern source control systems allow this) and fixes can be cherry-picked into that branch</li></ul><p>This is what this looks like when releasing version 1.1 directly from the trunk:</p><p><img src="/img/from-notes/processes-techniques/trunk-based-development/release-from-trunk.png" alt="Release from trunk"></p><p>Then, if a fix is needed for the release, a branch is created retroactively from the release commit.</p><p><img src="/img/from-notes/processes-techniques/trunk-based-development/release-from-trunk-then-branch.png" alt="Release from trunk, then branch"></p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="dealing-with-larger-changes"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#dealing-with-larger-changes" title="Direct link to heading">#</a>Dealing with larger changes</h2><ul><li>In principle, every commit in the trunk should be releasable. </li><li>When introducing new features or performing other large changes, it is often not feasible to make all of the changes in a single commit of reasonable size (and smaller commits are seen as better). <ul><li>We need some strategies that can be used to spread out changes while keeping each commit potentially releasable.</li></ul></li></ul><p>Strategies:</p><ul><li><a href="/processes-techniques/feature-flags">Feature flags</a></li><li><a href="/processes-techniques/branch-by-abstraction-application-strangulation">Branch by Abstraction and application strangulation</a></li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="some-good-practices-when-applying-trunk-based-development"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#some-good-practices-when-applying-trunk-based-development" title="Direct link to heading">#</a>Some good practices when applying Trunk Based Development</h2><ul><li><em>Quick reviews</em>: Developers try to get their code reviewed as soon as possible.</li><li><em>Chasing HEAD</em>: Developers try to stay up to date with changes to the trunk.</li><li><em>Shared nothing</em>: Developers run the build locally before pushing their code, typically including integration and functional tests talking to real databases etc. This means individual developers must be able to run the application and all its dependencies locally, without depending on resources shared with others.<ul><li>Small teams could even survive without a CI server for quite some time if every developer runs the build locally before committing</li><li>A problem with testing locally is that the environment on which the tests are run is likely quite different from the production environment. Therefore, you will likely still need several QA/UAT environments. These environments will ideally contain real instances of services and applications that your system integrates with, but those will ideally not be shared between the different environments.</li></ul></li><li><em>Facilitating commits</em>: Developers sometimes chop up their work into multiple smaller commits in order to make their changes easier for their teammates to adjust to.<ul><li>Example: When building a feature entails introducing a new dependency, this dependency could be introduced separately through a new commit that the developer explicitly notifies the team of</li><li>Example: First create and commit interfaces, then work on implementation while others can already code against the interfaces</li></ul></li><li><em>Thin Vertical Slices</em>: Stories or tasks from the backlog can ideally be implemented completely by a single developer or pair of developers in a short amount of time and small number of commits. They cut across the whole stack and they do not need to be passed around between developers with specialized knowledge in order to get completed.</li></ul><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_ZqCz" id="resources"></a><a aria-hidden="true" tabindex="-1" class="hash-link" href="#resources" title="Direct link to heading">#</a>Resources</h2><ul><li><a href="https://trunkbaseddevelopment.com/" target="_blank" rel="nofollow noopener noreferrer">Trunk Based Development <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://blog.newrelic.com/culture/long-running-branches-considered-harmful/" target="_blank" rel="nofollow noopener noreferrer">Long-Running Branches Considered Harmful <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://simpleprogrammer.com/code-review-trunk-based-development/" target="_blank" rel="nofollow noopener noreferrer">Why Code Reviews Hurt Your Code Quality and Team Productivity <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://martinfowler.com/bliki/SemanticConflict.html" target="_blank" rel="nofollow noopener noreferrer">SemanticConflict <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://martinfowler.com/articles/feature-toggles.html" target="_blank" rel="nofollow noopener noreferrer">Feature Toggles (aka Feature Flags) <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li><li><a href="https://www.branchbyabstraction.com/" target="_blank" rel="nofollow noopener noreferrer">Branch By Abstraction <svg class="embedded-fa-icon"><use href="#external-link-alt"></use></svg></a></li></ul></div></article><div class="margin-vert--lg"><nav class="pagination-nav"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/interview-prep/processes-techniques/testing"><div class="pagination-nav__link--sublabel">Previous</div><div class="pagination-nav__link--label">« Testing</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/interview-prep/processes-techniques/testing-details/testing-after-production"><div class="pagination-nav__link--sublabel">Next</div><div class="pagination-nav__link--label">Testing after production »</div></a></div></nav></div></div></div><div class="col col--3"><div class="tableOfContents_TbNY"><ul class="contents contents__left-border"><li><a href="#what-is-trunk-based-development" class="contents__link">What is Trunk Based Development?</a></li><li><a href="#trunk-based-development-advantages" class="contents__link">Trunk Based Development advantages</a><ul><li><a href="#reducing-distance-between-developers" class="contents__link">Reducing distance between developers</a></li><li><a href="#commitment-to-quality-of-code-and-build-process" class="contents__link">Commitment to quality of code and build process</a></li><li><a href="#flexibility-to-refactor-where-needed" class="contents__link">Flexibility to refactor where needed</a></li><li><a href="#encouraging-incremental-development" class="contents__link">Encouraging incremental development</a></li><li><a href="#flexibility-regarding-releases" class="contents__link">Flexibility regarding releases</a></li></ul></li><li><a href="#commits-and-reviewing" class="contents__link">Commits and reviewing</a><ul><li><a href="#committing-straight-to-the-trunk" class="contents__link">Committing straight to the trunk</a></li><li><a href="#short-lived-feature-branches-for-review" class="contents__link">Short-lived feature branches for review</a></li><li><a href="#review-after-the-fact" class="contents__link">Review after the fact</a></li></ul></li><li><a href="#trunk-based-development-and-continuous-integration" class="contents__link">Trunk Based Development and Continuous Integration</a></li><li><a href="#trunk-based-development-and-continuous-deliverydeployment" class="contents__link">Trunk Based Development and Continuous Delivery/Deployment</a></li><li><a href="#releases" class="contents__link">Releases</a><ul><li><a href="#branching-for-release" class="contents__link">Branching for release</a></li><li><a href="#releasing-straight-from-trunk" class="contents__link">Releasing straight from trunk</a></li><li><a href="#creating-a-release-branch-only-when-needed" class="contents__link">Creating a release branch only when needed</a></li></ul></li><li><a href="#dealing-with-larger-changes" class="contents__link">Dealing with larger changes</a></li><li><a href="#some-good-practices-when-applying-trunk-based-development" class="contents__link">Some good practices when applying Trunk Based Development</a></li><li><a href="#resources" class="contents__link">Resources</a></li></ul></div></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="text--center"><div>copyright © 2022 shyamzzp.</div></div></div></footer>
</div>

<script src="/interview-prep/styles.528f11ec.js"></script>

<script src="/interview-prep/runtime~main.881a3705.js"></script>

<script src="/interview-prep/main.a2ac2088.js"></script>

<script src="/interview-prep/1.a97003e5.js"></script>

<script src="/interview-prep/2.2e8d12a1.js"></script>

<script src="/interview-prep/92.c467e56e.js"></script>

<script src="/interview-prep/7ade5073.5f862e9b.js"></script>

<script src="/interview-prep/17896441.d7ae5b38.js"></script>

<script src="/interview-prep/0c35d482.da71e0be.js"></script>

<script>window.goatcounter={no_events:!0},window.addEventListener("click",t=>{if(!window.goatcounter.count)return;if(!t.target)return;const e=t.target.getAttribute("href");!e||e.startsWith("http")||e.startsWith("#")||setTimeout(()=>{window.goatcounter.count()})})</script>
<script data-goatcounter="https://interview-prep.goatcounter.com/count" async src="//gc.zgo.at/count.js"></script>
</body>
</html>